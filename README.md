# 🚀 AlphaSight 基金智投 (Fund Smart Investment)

AlphaSight 是一款基于 AI 分析的基金智能投顾与仓位管理工具。它结合了传统的金字塔交易策略与现代 AI 多模型分析，帮助投资者科学管理基金持仓，避免追涨杀跌。

> **核心理念**：AI 辅助决策 + 金字塔策略执行 = 稳健投资

## ✨ 核心功能

*   **📈 实时行情**：自动同步天天基金网实时净值与估值数据。
*   **🤖 AI 深度分析**：集成 Gemini 1.5 Pro 等大模型，多维分析基金持仓、经理风格及市场情绪，给出「买入/卖出/持有」建议。
*   **🏗️ 金字塔策略追踪**：自动记录买卖操作，可视化追踪每只基金的建仓层级与成本分布。
*   **💰 智能仓位计算器**：根据 AI 评级（BUY/HOLD/SELL）智能分配补仓资金，自动计算每份投入金额。
*   **📊 资产大盘**：直观展示总资产、日收益、仓位分布及 ROI 分析。
*   **💾 数据持久化**：支持本地 CSV 文件同步 (`持有股票.csv`) 和浏览器缓存，确保数据安全。

## 🛠️ 安装指南

本项目基于 React + Vite 开发，需要 Node.js 环境。

### 前置要求

*   [Node.js](https://nodejs.org/) (推荐 v18 或更高版本)
*   npm (通常随 Node.js 一起安装)

### Windows 安装步骤

1.  **下载代码**：
    *   点击右上角 `Code` -> `Download ZIP` 下载并解压。
    *   或者使用 Git：`git clone https://github.com/your-repo/alphasight.git`
2.  **打开终端**：
    *   进入解压后的文件夹（例如 `alphasight-基金智投`）。
    *   在文件夹地址栏输入 `cmd` 或 `powershell` 并回车，打开命令行窗口。
3.  **安装依赖**：
    在终端输入以下命令并回车：
    ```bash
    npm install
    ```
    *等待安装完成，通常需要几分钟。*
4.  **配置 API Key**：
    *   在项目根目录创建一个名为 `.env.local` 的文件。
    *   用记事本打开，填入你的 Gemini API Key：
        ```env
        GEMINI_API_KEY=your_api_key_here
        ```
    *   *如果没有 API Key，可先跳过，但 AI 分析功能将无法使用。*
5.  **启动应用**：
    ```bash
    npm run dev
    ```
6.  **访问应用**：
    打开浏览器访问显示的的地址（通常是 `http://localhost:3000`）。

### macOS 安装步骤

1.  **打开终端 (Terminal)**。
2.  **进入项目目录**：
    ```bash
    cd /path/to/alphasight-基金智投
    ```
3.  **安装依赖**：
    ```bash
    npm install
    ```
4.  **配置环境**：
    创建 `.env.local` 文件并配置 API Key：
    ```bash
    echo "GEMINI_API_KEY=your_api_key_here" > .env.local
    ```
5.  **启动**：
    ```bash
    npm run dev
    ```

## 📖 使用说明

### 1. 添加基金
*   点击左侧边栏的 **+** 按钮。
*   输入 **基金代码**（如 `110011`）进行搜索并添加。
*   也可以手动编辑根目录下的 `持有股票.csv` 文件批量导入。

### 2. 运行 AI 分析
*   进入 **AI 分析** 标签页。
*   点击 **运行 AI 全局分析**。
*   AI 会分析每只基金的近期表现和市场情况，给出操作建议：
    *   🔴 **BUY (建议补仓)**：强烈看好，建议增加仓位。
    *   🟡 **HOLD (持有观望)**：表现平稳，建议持有。
    *   🟢 **SELL (建议减仓)**：风险较高，建议减少仓位。
*   分析完成后，点击 **确认并保存到理财**，将策略应用到交易面板。

### 3. 智能分配资金
*   切换到 **策略** 标签页。
*   在顶部的 **智能仓位计算器** 中，输入你计划投入的总资金（例如 `10000` 元）。
*   点击 **智能分配**，系统会自动计算：
    *   **建议补仓** 的基金分配 **3倍** 权重。
    *   **持有观望** 的基金分配 **1倍** 权重。
    *   **建议减仓** 的基金 **不分配** 资金。
*   每只基金卡片上会显示 **建议投入 ¥XXX**。

### 4. 记录交易
*   在策略卡片点击 **记录** 按钮。
*   选择 **买入** 或 **卖出**。
*   点击 **1份 / 2份 / 3份** 按钮：
    *   **1份 = 10% 建议金额**。
    *   例如建议投入 1000 元，点击 1份 自动填入 100 元。
*   点击保存，系统会自动更新持仓成本和份额。

### 5. 查看收益
*   **概览** 页面实时显示总资产、日收益和持仓分布。
*   **策略** 页面显示每只基金的 ROI（投资回报率）和当前的策略层级。

## 🤝 常见问题

**Q: 为什么 AI 分析失败？**
A: 请检查 `.env.local` 中的 `GEMINI_API_KEY` 是否正确配置，且网络能访问 Google API。

**Q: 数据保存在哪里？**
A: 交易记录和分析结果保存在浏览器的 LocalStorage 中。基金列表同步保存在本地的 `持有股票.csv` 文件中（开发模式下）。

**Q: macOS 用户启动提示“已损坏”的解决办法**
A: 由于本程序未经过苹果开发者签名，从 GitHub 下载后会被 macOS 的 Gatekeeper 安全机制拦截并提示“应用程序已损坏，打不开”。

请按以下步骤解决：

1、打开 终端 (Terminal) 应用程序。
2、输入以下命令（注意最后有一个空格）： sudo xattr -cr 
3、将下载解压后的 AlphaSight启动.app 拖入终端窗口中（会自动补全路径）。
4、按回车，输入你的电脑开机密码并回车确认（输入时密码不显示）。
5、再次双击 AlphaSight启动.app 即可正常运行。
---

*注意：本项目仅供学习和个人辅助使用，不构成任何投资建议。市场有风险，投资需谨慎。*
